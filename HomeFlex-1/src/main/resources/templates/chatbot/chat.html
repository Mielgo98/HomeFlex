<html xmlns:th="http://www.thymeleaf.org" lang="es">
<head th:replace="fragments/head :: head('Chatbot')"></head>
<body>
    <div th:replace="fragments/header :: header"></div>
    <section class="chat-container">
        <div class="messages" id="chatBox">
            <div th:each="msg : ${messages}"
                 th:replace="~{chatbot/conversation :: message(msg)}">
            </div>
        </div>
        <form th:action="@{/chatbot/send}" method="post" class="chat-form">
            <input type="text" name="message" placeholder="Escribe tu mensaje..." required autocomplete="off" />
            <button type="submit">Enviar</button>
        </form>
    </section>
    <div th:replace="fragments/footer :: footer"></div>

    <script>
        // Auto-scroll al final del chat
        const chatBox = document.getElementById('chatBox');
        chatBox.scrollTop = chatBox.scrollHeight;
    </script>
</body>
</html>